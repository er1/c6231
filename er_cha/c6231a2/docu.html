<h1>COMP 6231</h1>

<p>Eric Chan (9365079)</p>

<h2>Distributed Police Information System (DPIS) using Java IDL</h2>

<p>In this project we were asked to produce a distributed police information system.</p>

<p>There are a minimum two running processes with several threads.</p>

<p>One process for the ORB servers each with a thread for each station. Each station forks an additional thread for its UDP server for inter-station requests.</p>

<p>The <code>StationServer</code> class is instantiated for each server, this class then creates a thread to listen to UDP requests.</p>

<p>UDP requests are serialized <code>Maps</code> and the serialization and parsing is taken care of in static methods of the <code>MapSerializer</code> class.</p>

<p>Records are stored as <code>Record</code> objects which is extended into <code>CriminalRecord</code> objects for criminal records and <code>MissingRecord</code> objects for missing person records.</p>

<p><code>RecordContainer</code> contains all Records in an array called <code>records</code> containin 26 <code>HashMaps</code> of <code>Record</code>s keyed on <code>String</code>s which are the IDs of the records.</p>

<p>When records are added or removed the corresponding map for that record is locked with Java's <code>synchronized</code> mechanism. Similarly, this is used to lock the whole records array when making the count of records on a particular server.</p>

<p>When we are reading or modifying records, we lock them on the specific Record with synchronized so it is in a consistent state.</p>

<p><code>StationServer</code> implements the <code>StationInterface</code> for ORB. <code>StationInterface</code> is generated by <code>idlj</code> and is based on the provided <code>Station.idl</code>. <code>StationInterface</code> is used by any client using the <code>OfficerClient</code></p>

<p>Another process for clients is created. The client processes may have as many <code>OfficerClient</code> RPC connections as it needs.</p>

<p>Officer connections are made through makeing an <code>OfficerClient</code> instance for each connection. This object takes care of creating the appropriate log as well as doing the IDL/ORB lookup and making the connection.</p>

<p>Using this interface, two executable clients were written, <code>OfficerMenuClient</code> and <code>OfficerTestClient</code>. <code>OfficerMenuClient</code> allowed the user to pick a badgeID and use it to execute individual commands against the server in an interactive manner.</p>

<p><code>OfficerMenuClient</code> provides a menu similar to the one seen below and allowed the user to pick and of the methods in the idl and provide arbitrary input for it.</p>

<pre><code>Officer Menu for SPVM7851
1. Create Criminal Record
2. Create Missing Record
3. Get Record Count
4. Edit Criminal Record
5. Transfer Record to Another Station
0. Quit

Enter Selection:
</code></pre>

<p>Once an option is selected the option will prompt for all required parameters.</p>
